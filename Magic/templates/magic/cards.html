{% extends 'magic/base.html' %}
{% block title %} Cards for sale  {% endblock %}
{% block body %}
    {% if all_cards %}
        <h1 class="basic-text cards-header">Cards for sale</h1>
        <table class="table is-hoverable is-stripped mr-6 ml-6">
            <tr>
                <th><span class="glyphicon glyphicon-king" aria-hidden="true">
                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-file-richtext-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                        <path fill-rule="evenodd" d="M12 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM7 4.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0zm-.861 1.542l1.33.886 1.854-1.855a.25.25 0 0 1 .289-.047l1.888.974V7.5a.5.5 0 0 1-.5.5H5a.5.5 0 0 1-.5-.5V7s1.54-1.274 1.639-1.208zM5 9a.5.5 0 0 0 0 1h6a.5.5 0 0 0 0-1H5zm0 2a.5.5 0 0 0 0 1h3a.5.5 0 0 0 0-1H5z"/>
                    </svg>
                </span>&nbsp;
                </span></th>
                <th>Card Name 
                    <a href="?order_by=name&direction=asc">
                        <span class="bi bi-chevron-up">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-compact-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z"/>
                            </svg>
                        </span>
                    </a>
                    <a href="?order_by=name&direction=desc">
                        <span class="glyphicon glyphicon-chevron-down">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-compact-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"/>
                            </svg>
                        </span>
                    </a>
                </th>
                <th>Seller
                    <a href="?order_by=user&direction=desc">
                        <span class="glyphicon glyphicon-chevron-up">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-compact-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z"/>
                            </svg>
                        </span>
                    </a>
                    <a href="?order_by=user&direction=asc">
                        <span class="glyphicon glyphicon-chevron-down">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-compact-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"/>
                            </svg>
                        </span>
                    </a>
                </th>
                <th>Price 
                    <a href="?order_by=price&direction=asc">
                        <span class="glyphicon glyphicon-chevron-up">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-compact-up" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M7.776 5.553a.5.5 0 0 1 .448 0l6 3a.5.5 0 1 1-.448.894L8 6.56 2.224 9.447a.5.5 0 1 1-.448-.894l6-3z"/>
                            </svg>
                        </span>
                    </a>
                    <a href="?order_by=price&direction=desc">
                        <span class="glyphicon glyphicon-chevron-down">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-chevron-compact-down" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path fill-rule="evenodd" d="M1.553 6.776a.5.5 0 0 1 .67-.223L8 9.44l5.776-2.888a.5.5 0 1 1 .448.894l-6 3a.5.5 0 0 1-.448 0l-6-3a.5.5 0 0 1-.223-.67z"/>
                            </svg>
                        </span>
                    </a>
                </th>
            </tr>
            {% for card in cards %}
            
                <tr>
                    <td class="img-td">
                        <span class="glyphicon glyphicon-camera">
                            <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-camera-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
                                <path fill-rule="evenodd" d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 0 0-1 .5.5 0 0 0 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
                            </svg>
                        </span>
                        <img src="http://gatherer.wizards.com/Handlers/Image.ashx?multiverseid=409741&type=card" class="img-responsive  card-img-td" width="30%">
                    </td>
                    <td>
                        <a class="card-td-link" href="{% url 'Magic:card_detail' card.id %}">{{card.name}}</a>
                        {% if card.is_foil %}
                            <span class="glyphicon glyphicon-star"></span>
                        {% endif %}
                    </td>
                    <td class="seller-td">
                        <a class="user-td-link" href="{% url 'Magic:user_detail' card.user.id %}">{{card.user}}</a>
                    </td>
                    <td class="price-td">
                        ${{card.price}}
                        <a href="{% url 'Magic:add_to_cart' card.id %}" >
                            <button type="submit" class="btn btn-default btn-sm btn-cart">
                                <span class="glyphicon glyphicon-shopping-cart mr-6">
                                    <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-cart-plus-fill" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                                        <path fill-rule="evenodd" d="M.5 1a.5.5 0 0 0 0 1h1.11l.401 1.607 1.498 7.985A.5.5 0 0 0 4 12h1a2 2 0 1 0 0 4 2 2 0 0 0 0-4h7a2 2 0 1 0 0 4 2 2 0 0 0 0-4h1a.5.5 0 0 0 .491-.408l1.5-8A.5.5 0 0 0 14.5 3H2.89l-.405-1.621A.5.5 0 0 0 2 1H.5zM4 14a1 1 0 1 1 2 0 1 1 0 0 1-2 0zm7 0a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM9 5.5a.5.5 0 0 0-1 0V7H6.5a.5.5 0 0 0 0 1H8v1.5a.5.5 0 0 0 1 0V8h1.5a.5.5 0 0 0 0-1H9V5.5z"/>
                                    </svg>
                                </span>
                            </button>
                        </a>
                    </td>
                </tr>
            
            {% endfor %}
        </table>
        <nav aria-label="Page navigation" class="mb-4">
            {% if cards.has_other_pages %}
                <ul class="pagination justify-content-center">
                    {% if cards.has_previous %}
                        <li class="page-item"><a href="?page={{ cards.previous_page_number }}&order_by={{ order_by }}&direction={{ direction }}" class="page-link">&laquo;</a></li>
                    {% endif %}
                    {% for i in cards.paginator.page_range %}
                        {% if cards.number == i %}
                            <li class="page-item active" aria-current="page"><span class="page-link">{{ i }} <span class="sr-only">(current)</span></span></li>
                        {% else %}
                            <li class="page-item"><a href="?page={{ i }}&order_by={{ order_by }}&direction={{ direction }}" class="page-link">{{ i }}</a></li>
                        {% endif %}
                    {% endfor %}    
                    {% if cards.has_next %}
                        <li class="page-item"><a href="?page={{ cards.next_page_number }}&order_by={{ order_by }}&direction={{ direction }}" class="page-link">&raquo;</a></li>
                    {% else %}
                        <!-- <li class="disabled"><span>&raquo;</span></li> -->
                    {% endif %}
                </ul>
            {% endif %}
        </nav>
            {% else %}
            <h3 class="basic-text">No cards available for sale</h3>
    {% endif %}
    
{% endblock %}
