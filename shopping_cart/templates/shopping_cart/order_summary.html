{% extends 'magic/base.html' %}
{% block body %}
  <div class="container">
    <div class="table-responsive text-nowrap">
      <h2 class="basic-text">Order Summary</h2>
      <table class="table" id="card-table">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Card Name</th>
            <th scope="col">Price</th>
            <!-- <th scope="col">Quantity</th>
            <th scope="col">Total Card Price</th> -->
          </tr>
          {% for order_item in order.items.all %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ order_item.card.name }}</td>
            <td><a href="{% url 'Magic:delete_from_cart' order_item.id %}"><span class="glyphicon glyphicon-trash"></span></a> ${{ order_item.card.price }}</td>
          </tr>
          {% endfor %}
          <tr>
            <td colspan="2"><strong>Order Total:</strong></td>
            <td><strong>${{ order.get_cart_total }}</strong></td>
          </tr>
          {% if order.get_cart_total > 0 %}
            <tr>
              <td colspan="3">
                <a class="btn btn-danger" href="{% url 'Magic:cards' %}">Back to shopping</a>
                <a class="btn btn-success btn-checkout" href="{% url 'Magic:checkout' %}">Proceed to checkout</a>
              </td>
            </tr>
          {% else %}
            <tr>
              <td colspan="3"><b>Your cart is empty</b></td>
            </tr>
            <tr>
              <td colspan="3">
                <a class="btn btn-danger" href="{% url 'Magic:cards' %}">Back to shopping</a>
              </td>
            </tr>
          {% endif %}
          

      </table>
    
    </div>

  </div>
{% endblock %}
<!-- ide egy extends base.html kerül

ide egy blockbody kerül

    <table id="card-table">
      <tr class="text-center">
        <th>no.</th>
        <th>Item</th>
        <th>Price</th>
      </tr>
      {% for item in order.get_cart_items %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td>
            {{ item.card.name }}
            <a href="{% url 'Magic:delete_from_cart' item.id %}" data-balloon="remove this item from cart" class="text-danger" onclick="return confirm_delete();">
                <span class="glyphicon glyphicon-trash">
                <i class="fas fa-trash"></i>
              </a>
            </span>
          </td>
          <td>{{ item.card.price }}</td>
        </tr>
      {% empty %}
        <tr>
          <td colspan= 3> You have not added any items yet.</td>
        </tr>
      {% endfor %}
      <tr>
        {% if order.get_cart_total != None %}
        <td colspan=2>
          <strong class="pull-right">Order Total:</strong>
        </td>
        
        <td colspan= 1>
          $ <strong>{{ order.get_cart_total }}</strong>
        </td>
        {% endif %}
      </tr>
      <tr>
        <td colspan=1 >
          <a href="{% url 'Magic:cards' %}" class="btn btn-warning pull-left">
            {% if order %}Continue Shopping{% else %}Add Items to Cart {% endif %}
          </a> 
        </td>
        <td colspan=2>
          {% if order.get_cart_items %}
            <a href="{% url 'Magic:checkout' %}" class="pull-right btn btn-primary">Proceed To Checkout</a>
          {% endif %}
        </td>
      </tr>
    </table>
     
ide egy endblock kerül

{% block scripts %}
  {{ block.super }}
  <script>
  function confirm_delete(){
    return confirm("Do you want to remove this item from cart?");
  }
  </script>
{% endblock scripts %} -->


